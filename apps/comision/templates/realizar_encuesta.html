{% extends 'base/comision.html' %} {% block title %} Comisión | Realizar
Encuesta {% endblock title %} {% block content %}
<div class="max-w-4xl mx-40 mt-9">
  <h1 class="text-3xl font-bold text-gray-800 mb-6">
    Gestión de Preguntas por Módulo
  </h1>

  <div class="bg-white rounded-xl shadow-lg p-6 space-y-6">
    {% if modulos %} {% for modulo in modulos %}
    <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
      <h2
        class="text-xl font-semibold text-blue-700 mb-3 flex items-center justify-between"
      >
        <span class="flex items-center">
          <svg
            class="w-5 h-5 mr-2 text-blue-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 8c1.657 0 3-1.343 3-3S13.657 2 12 2s-3 1.343-3 3 1.343 3 3 3zm0 0v4m0 4h.01M4.93 4.93a10 10 0 0114.14 0m1.42 1.42a10 10 0 010 14.14m-1.42 1.42a10 10 0 01-14.14 0m-1.42-1.42a10 10 0 010-14.14"
            />
          </svg>
          {{ modulo.nombre }}
        </span>
        <a
          href="{% url 'comision:agregar_pregunta' usuario_id modulo.id_modulo %}"
          class="text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700"
        >
          + Agregar Pregunta
        </a>
      </h2>

      {% if modulo.preguntamodulo_set.all %}
      <ul class="space-y-2">
        {% for pregunta in modulo.preguntamodulo_set.all %}
        <li
          class="flex justify-between items-center bg-white rounded-md px-4 py-2 shadow-sm border hover:bg-gray-100"
        >
          <span class="text-gray-800">{{ pregunta.pregunta }}</span>
          <div class="space-x-4">
            <a
              href="{% url 'comision:editar_pregunta' usuario_id pregunta.id_pregunta %}"
              class="text-sm text-blue-600 hover:underline font-medium"
            >
              Editar
            </a>
            <a
              href="{% url 'comision:eliminar_pregunta' usuario_id pregunta.id_pregunta %}"
              class="text-sm text-red-600 hover:underline font-medium"
            >
              Eliminar
            </a>
          </div>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <p class="text-gray-500 italic">
        Este módulo no tiene preguntas registradas.
      </p>
      {% endif %}
    </div>
    {% endfor %} {% else %}
    <div class="text-center text-gray-500 italic">
      No hay módulos registrados actualmente.
    </div>
    {% endif %}
  </div>
</div>
{% endblock content %}
